PORT=4000
FRONTEND_ORIGIN=http://localhost:5173
# URL backend công khai (link xác nhận email gửi đến đây, sau đó redirect về frontend). Dev: http://localhost:4000. Production: https://yourdomain.com hoặc https://yourdomain.com/api nếu Nginx proxy /api
BACKEND_ORIGIN=http://localhost:4000
# ⚠️ BẮT BUỘC thay đổi trong production - dùng chuỗi ngẫu nhiên dài (32+ ký tự)
SESSION_SECRET=your_random_secret_change_me_in_production

DB_FILE=homestay.db

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:4000/auth/google/callback

# Facebook OAuth (đăng nhập bằng Facebook)
FACEBOOK_APP_ID=your_facebook_app_id
FACEBOOK_APP_SECRET=your_facebook_app_secret
FACEBOOK_CALLBACK_URL=http://localhost:4000/auth/facebook/callback

# Admin access (email admin, phân cách bằng dấu phẩy)
ADMIN_EMAILS=your_admin_email@example.com
ADMIN_DASHBOARD_URL=http://localhost:5173/admin


# Tỉ giá VND/USD — exchangerate-api.com v6 (để hiển thị giá USD khi locale EN)
EXCHANGERATE_API_KEY=138732110e11551d6b81472c
# Fallback khi API lỗi (tùy chọn)
# EXCHANGE_RATE_VND_PER_USD=25000

# Email báo admin khi có đơn đặt phòng mới (cần SMTP + ADMIN_NOTIFY_EMAILS). Nhiều email cách nhau dấu phẩy.
ADMIN_NOTIFY_EMAILS=your_admin_email@example.com

# SMTP (bắt buộc để gửi: email xác nhận đặt phòng cho khách, email báo đơn mới cho admin, email xác nhận đăng ký)
# Gmail: dùng App Password (không dùng mật khẩu đăng nhập), SMTP_HOST=smtp.gmail.com, port 465.
# Port 587: SMTP_PORT=587, SMTP_SECURE=false (STARTTLS).
SMTP_HOST=
SMTP_PORT=465
SMTP_SECURE=true
SMTP_USER=
SMTP_PASS=
SMTP_FROM=Homestay <noreply@yourdomain.com>

# Email xác nhận: link Zalo OA để khách nhận mật khẩu phòng
ZALO_OA_LINK=https://zalo.me/your-official-account

# Hướng dẫn check-in (gửi kèm email, có thể nhiều dòng)
CHECKIN_INSTRUCTIONS=• Check-in: 14:00, Check-out: 12:00.\n• Liên hệ Zalo OA (link trong email) để nhận mật khẩu phòng.\n• Giữ gìn vệ sinh, tắt điện/điều hòa khi ra về.

# Bank info for VietQR display (BIN: MBBank=970422, BIDV=970418, Vietcombank=970436, Techcombank=970407)
BANK_NAME=MBBANK
BANK_ACCOUNT_NAME=Your Full Name
BANK_ACCOUNT_NUMBER=1234567890123
BANK_BIN=970422

# Bank info for SePay display
SEPAY_BANK_ACCOUNT=1234567890123
SEPAY_BANK_NAME=MBBANK
SEPAY_ACCOUNT_NAME=Your Full Name
# SePay webhook: xác thực bằng API Key (header "Authorization":"Apikey API_KEY")
SEPAY_API_KEY=your_sepay_api_key
SEPAY_BANK_BIN=970422
SEPAY_QR_URL_TEMPLATE=https://qr.sepay.vn/img?acc={ACC}&bank={BANK}&amount={AMOUNT}&des={DES}
# order ttl (seconds)
SEPAY_ORDER_TTL_SEC=300

# Telegram notify (optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
TELEGRAM_WEBHOOK_SECRET=
TELEGRAM_ALLOWED_CHAT_ID=

BOOKING_CODE_PREFIX=NVH
ORDER_PREFIX=HS

# Cloudinary (upload ảnh phòng, ảnh đánh giá)
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

DEPOSIT_DEFAULT_PERCENT=30
DEPOSIT_MIN_PERCENT=20
DEPOSIT_MAX_PERCENT=30

# Google Sheet đồng bộ lịch đặt phòng (2 chiều)
# Hướng dẫn chi tiết: xem file backend/GOOGLE-SHEETS-SYNC.md
#
# 1) Tạo Service Account (JSON), đặt tại backend/credentials/google-sheets.json
# 2) Chia sẻ Google Sheet với email trong JSON (client_email) quyền Chỉnh sửa
#
# Bảng báo cáo (BOOKING REPORT): A4:A34=ngày, B4:B34=thứ, C3:M3=tên phòng, C4:M34=ô đặt phòng.
# - GOOGLE_SHEETS_REPORT_RANGE: nếu set (vd Sheet1!A3:M34) thì Web→Sheet ghi lên bảng lịch này; Sheet→Web đọc từ bảng lịch.
#   Ô ghi: "Tên khách | Qua đêm dd/mm-dd/mm | Đã TT" hoặc "Tên khách | Theo giờ HH:mm-HH:mm | Đã TT". Chỉ đơn đã xác nhận + đã thanh toán.
#   Pending quá hạn (SePay) bị hủy trước khi sync nên không ghi lên sheet.
# - GOOGLE_SHEETS_REPORT_MONTH: tháng/năm báo cáo YYYY-MM (mặc định tháng hiện tại).
#
# Chế độ list (khi không set REPORT_RANGE): GOOGLE_SHEETS_RANGE = A=Phòng, B=Check-in, C=Check-out, D=status, E=Tên khách, F,G=giờ (hourly).
# Tab "Web" (GOOGLE_SHEETS_WEB_RANGE): app ghi đơn từ web (A:G khi dùng list).
GOOGLE_SHEETS_SPREADSHEET_ID=15V9orc7PXFFJUz1NWnvgYmGfJqmMl1Rdv7iI3MPmi7g
GOOGLE_SHEETS_RANGE=Sheet1!A2:G500
GOOGLE_SHEETS_CREDENTIALS_PATH=credentials/google-sheets.json
GOOGLE_SHEETS_WEB_RANGE=Web!A2:G500
GOOGLE_SHEETS_REPORT_RANGE=Sheet1!A3:M34
GOOGLE_SHEETS_REPORT_MONTH=2026-03
# POLL_MINUTES>0: đồng bộ 2 chiều mỗi N phút (Sheet→Web + Web→Sheet). 0 = chỉ khi admin bấm «Đồng bộ»
GOOGLE_SHEETS_POLL_MINUTES=2
